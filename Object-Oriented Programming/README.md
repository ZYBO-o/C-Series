> **引入智能指针的原因：**
>
> + 动态对象的正确释放被证明是编程中极其容易出错的地方。为了更安全地使用动态对象，标准库定义了两个智能指针类型来管理动态库分配的对象。当一个对象应该被释放时，指向它的智能指针可以确保自动释放它。

- **对象的生存期：**
  - `全局对象`：程序启动时创建，程序结束时销毁
  - `局部static对象`：第一次使用前创建，程序结束时销毁
  - `局部自动对象`：定义时创建，离开定义所在程序块时销毁
  - `动态对象`：生存期由程序控制，在显式创建时创建，显式销毁时销毁
- 动态对象的正确释放极易出错。为安全使用动态对象，标准库定义了`智能指针`来管理动态对象
- 内存空间：
  - `静态内存`：局部static对象、类static数据成员、定义在任何函数之外的变量
  - `栈内存`：定义在函数内的非static对象
  - `堆内存`：动态对象，即运行时分配的对象
- 静态内存和栈内存中的对象由**编译器创建和销毁**，堆内存中的动态对象的生存期由**程序控制**

# 一.动态内存和智能指针

- C++通过一对`运算符`管理动态内存：
  - `new`算符在动态内存中为对象分配空间并返回指向该对象的指针，可选择对对象初始化
  - `delete`算符接受一个动态对象的指针，销毁该对象并释放内存
- 确保在正确时间释放内存很难：
  - 若不释放内存，导致`内存泄露`
  - 若还有指针指向该内存就将其释放，导致`指针空悬`
- C++11标准库中提供了两种`智能指针`来管理动态对象，定义于`memory头`文件：
  - `shared_ptr`允许多个指针指向同一对象
  - `unique_ptr`指针独占所指向对象
  - `weak_ptr`是伴随类，是一种弱引用，指向shared_ptr管理的对象















